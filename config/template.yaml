# =========================
# 1. 基础环境设置 (服务器安全默认)
# =========================
mixed-port: 7890
socks-port: 7891
tproxy-port: 7893

allow-lan: false
bind-address: "127.0.0.1"

ipv6: false
log-level: info
mode: rule

# 面板：服务器建议仅本机（需要远程用 SSH 隧道）
#注释下面本机访问面板
#external-controller: 127.0.0.1:9090
#取消注释下面开启远程访问
external-controller: 0.0.0.0:9090
external-ui: "ui"
secret: "CHANGE_ME_TO_A_STRONG_SECRET"

profile:
  store-selected: true

# =========================
# 2. DNS 设置（服务器默认仅本机）
# =========================
dns:
  enable: true
  listen: 127.0.0.1:1053
  enhanced-mode: fake-ip
  fake-ip-range: 198.18.0.1/16
  default-nameserver:
    - 223.5.5.5
    - 119.29.29.29
  nameserver:
    - https://dns.google/dns-query
    - https://1.1.1.1/dns-query
  direct-nameserver:
    - 223.5.5.5
    - 119.29.29.29

# =========================
# 3. 节点订阅（proxy-providers）
# =========================
proxy-providers:
  UserSub:
    type: http
    url: "INSERT_LINK_HERE" # [SUBLINK]
    path: ./sub/usersub.yaml
    interval: 3600
    health-check:
      enable: true
      interval: 600
      url: http://www.gstatic.com/generate_204

# =========================
# 4. 规则集（全部使用 yaml/text；不使用 mrs）
# =========================
rule-providers:
  # ADBlock：用 Loyalsoldier 的 reject.txt（text/domain）
  # 你的规则里仍然是 RULE-SET,ADBlock,广告拦截
  ADBlock:
    type: http
    behavior: domain
    format: text
    interval: 86400
    url: "https://raw.githubusercontent.com/Loyalsoldier/clash-rules/release/reject.txt"
    path: ./ruleset/ADBlock.txt

  AdditionalFilter:
    type: http
    behavior: classical
    format: text
    interval: 86400
    url: https://gcore.jsdelivr.net/gh/powerfullz/override-rules@master/ruleset/AdditionalFilter.list
    path: ./ruleset/AdditionalFilter.list

  SogouInput:
    type: http
    behavior: classical
    format: text
    interval: 86400
    url: https://ruleset.skk.moe/Clash/non_ip/sogouinput.txt
    path: ./ruleset/SogouInput.txt

  StaticResources:
    type: http
    behavior: domain
    format: text
    interval: 86400
    url: https://ruleset.skk.moe/Clash/domainset/cdn.txt
    path: ./ruleset/StaticResources.txt

  CDNResources:
    type: http
    behavior: classical
    format: text
    interval: 86400
    url: https://ruleset.skk.moe/Clash/non_ip/cdn.txt
    path: ./ruleset/CDNResources.txt

  AdditionalCDNResources:
    type: http
    behavior: classical
    format: text
    interval: 86400
    url: https://gcore.jsdelivr.net/gh/powerfullz/override-rules@master/ruleset/AdditionalCDNResources.list
    path: ./ruleset/AdditionalCDNResources.list

  EHentai:
    type: http
    behavior: classical
    format: text
    interval: 86400
    url: https://gcore.jsdelivr.net/gh/powerfullz/override-rules@master/ruleset/EHentai.list
    path: ./ruleset/EHentai.list

  TikTok:
    type: http
    behavior: classical
    format: text
    interval: 86400
    url: https://gcore.jsdelivr.net/gh/powerfullz/override-rules@master/ruleset/TikTok.list
    path: ./ruleset/TikTok.list

  SteamFix:
    type: http
    behavior: classical
    format: text
    interval: 86400
    url: https://gcore.jsdelivr.net/gh/powerfullz/override-rules@master/ruleset/SteamFix.list
    path: ./ruleset/SteamFix.list

  GoogleFCM:
    type: http
    behavior: classical
    format: text
    interval: 86400
    url: https://gcore.jsdelivr.net/gh/powerfullz/override-rules@master/ruleset/FirebaseCloudMessaging.list
    path: ./ruleset/GoogleFCM.list

  # 国内出口：用 meta-rules-dat 的 yaml（mihomo 官方示例就这么用）
  cn_domain:
    type: http
    behavior: domain
    format: yaml
    interval: 86400
    url: "https://raw.githubusercontent.com/MetaCubeX/meta-rules-dat/meta/geo/geosite/cn.yaml"
    path: ./ruleset/cn_domain.yaml

  cn_ip:
    type: http
    behavior: ipcidr
    format: yaml
    interval: 86400
    url: "https://raw.githubusercontent.com/MetaCubeX/meta-rules-dat/meta/geo/geoip/cn.yaml"
    path: ./ruleset/cn_ip.yaml

  geolocation_not_cn:
    type: http
    behavior: domain
    format: yaml
    interval: 86400
    url: "https://raw.githubusercontent.com/MetaCubeX/meta-rules-dat/meta/geo/geosite/geolocation-!cn.yaml"
    path: ./ruleset/geolocation_not_cn.yaml

# =========================
# 5. 策略组（每组可直接选具体节点 + 🇨🇳 仅筛 🇨🇳）
# =========================
proxy-groups:
  - name: 🚀 节点选择
    type: select
    proxies:
      - DIRECT
    use:
      - UserSub

  - name: ⚡ 自动优选
    type: url-test
    url: http://www.gstatic.com/generate_204
    interval: 300
    tolerance: 50
    use:
      - UserSub

  # （可选）国家总入口：一键切国家
  - name: 🌏 国家选择
    type: select
    proxies:
      - 🇨🇳 中国
      - 🇭🇰 香港
      - 🇹🇼 台湾
      - 🇯🇵 日本
      - 🇰🇷 韩国
      - 🇹🇭 泰国
      - 🇸🇬 新加坡
      - 🇺🇸 美国
      - 🇳🇱 荷兰
      - 🇩🇪 德国
      - 🇬🇧 英国
      - 🇷🇺 俄罗斯
      - 🚀 节点选择
      - ⚡ 自动优选
      - DIRECT    

  - name: 🇨🇳 国内出口
    type: select
    proxies:
      - DIRECT
      - 🚀 节点选择
      - 🌏 国家选择
      - 🇨🇳 中国-自动
    use:
      - UserSub

  # === 业务组：都能直接选具体节点 ===
  - name: 📹 YouTube
    type: select
    proxies:
      - DIRECT
      - ⚡ 自动优选
      - 🚀 节点选择
      - 🌏 国家选择
      - 🇹🇼 台湾-自动
      - 🇯🇵 日本-自动
      - 🇰🇷 韩国-自动
      - 🇹🇭 泰国-自动
      - 🇸🇬 新加坡-自动
      - 🇺🇸 美国-自动
      - 🇳🇱 荷兰-自动
      - 🇩🇪 德国-自动
      - 🇬🇧 英国-自动
      - 🇷🇺 俄罗斯-自动
      - 🇭🇰 香港
      - 🇹🇼 台湾
      - 🇯🇵 日本
      - 🇰🇷 韩国
      - 🇹🇭 泰国
      - 🇸🇬 新加坡
      - 🇺🇸 美国
      - 🇳🇱 荷兰
      - 🇩🇪 德国
      - 🇬🇧 英国
      - 🇷🇺 俄罗斯

  - name: 🎵 Spotify
    type: select
    proxies:
      - DIRECT
      - ⚡ 自动优选
      - 🚀 节点选择
      - 🌏 国家选择
      - 🇺🇸 美国-自动
    use: [UserSub]

  - name: 💳 PayPal
    type: select
    proxies:
      - DIRECT
      - 🚀 节点选择
      - ⚡ 自动优选
      - 🌏 国家选择
      - 🇹🇼 台湾-自动
      - 🇯🇵 日本-自动
      - 🇰🇷 韩国-自动
      - 🇹🇭 泰国-自动
      - 🇸🇬 新加坡-自动
      - 🇺🇸 美国-自动
      - 🇳🇱 荷兰-自动
      - 🇩🇪 德国-自动
      - 🇬🇧 英国-自动
      - 🇷🇺 俄罗斯-自动

  - name: 🤖 AI & Copilot
    type: select
    proxies:
      - DIRECT
      - ⚡ 自动优选
      - 🚀 节点选择
      - 🌏 国家选择
      - 🇹🇼 台湾-自动
      - 🇯🇵 日本-自动
      - 🇰🇷 韩国-自动
      - 🇹🇭 泰国-自动
      - 🇸🇬 新加坡-自动
      - 🇺🇸 美国-自动
      - 🇳🇱 荷兰-自动
      - 🇩🇪 德国-自动
      - 🇬🇧 英国-自动
      - 🇷🇺 俄罗斯-自动

  - name: 📺 其他流媒体
    type: select
    proxies:
      - DIRECT
      - ⚡ 自动优选
      - 🚀 节点选择      
      - 🌏 国家选择
      - 🇹🇼 台湾-自动
      - 🇯🇵 日本-自动
      - 🇰🇷 韩国-自动
      - 🇹🇭 泰国-自动
      - 🇸🇬 新加坡-自动
      - 🇺🇸 美国-自动
      - 🇳🇱 荷兰-自动
      - 🇩🇪 德国-自动
      - 🇬🇧 英国-自动
      - 🇷🇺 俄罗斯-自动
      - 🇭🇰 香港
      - 🇹🇼 台湾
      - 🇯🇵 日本
      - 🇰🇷 韩国
      - 🇹🇭 泰国
      - 🇸🇬 新加坡
      - 🇺🇸 美国
      - 🇳🇱 荷兰
      - 🇩🇪 德国
      - 🇬🇧 英国
      - 🇷🇺 俄罗斯

  - name: 💰 虚拟货币
    type: select
    proxies:
      - DIRECT
      - 🚀 节点选择
      - ⚡ 自动优选
      - 🌏 国家选择
      - 🇹🇼 台湾-自动
      - 🇯🇵 日本-自动
      - 🇰🇷 韩国-自动
      - 🇹🇭 泰国-自动
      - 🇸🇬 新加坡-自动
      - 🇺🇸 美国-自动
      - 🇳🇱 荷兰-自动
      - 🇩🇪 德国-自动
      - 🇬🇧 英国-自动
      - 🇷🇺 俄罗斯-自动
      - 🇭🇰 香港
      - 🇹🇼 台湾
      - 🇯🇵 日本
      - 🇰🇷 韩国
      - 🇹🇭 泰国
      - 🇸🇬 新加坡
      - 🇺🇸 美国
      - 🇳🇱 荷兰
      - 🇩🇪 德国
      - 🇬🇧 英国
      - 🇷🇺 俄罗斯

  - name: 📲 电报消息
    type: select
    proxies:
      - DIRECT
      - ⚡ 自动优选
      - 🚀 节点选择
      - 🌏 国家选择
      - 🇹🇼 台湾-自动
      - 🇯🇵 日本-自动
      - 🇰🇷 韩国-自动
      - 🇹🇭 泰国-自动
      - 🇸🇬 新加坡-自动
      - 🇺🇸 美国-自动
      - 🇳🇱 荷兰-自动
      - 🇩🇪 德国-自动
      - 🇬🇧 英国-自动
      - 🇷🇺 俄罗斯-自动
      - 🇭🇰 香港
      - 🇹🇼 台湾
      - 🇯🇵 日本
      - 🇰🇷 韩国
      - 🇹🇭 泰国
      - 🇸🇬 新加坡
      - 🇺🇸 美国
      - 🇳🇱 荷兰
      - 🇩🇪 德国
      - 🇬🇧 英国
      - 🇷🇺 俄罗斯

  - name: 🐟 漏网之鱼
    type: select
    proxies:
      - DIRECT
      - 🚀 节点选择
      - ⚡ 自动优选
      - 🌏 国家选择

  # === 规则类分组（不需要展开节点）===
  - name: 广告拦截
    type: select
    proxies:
      - REJECT
      - REJECT-DROP
      - DIRECT

  - name: 搜狗输入
    type: select
    proxies:
      - REJECT-DROP
      - DIRECT

  - name: Truth Social
    type: select
    proxies:
      - DIRECT
      - ⚡ 自动优选
      - 🚀 节点选择
      - 🌏 国家选择

  - name: 静态资源
    type: select
    proxies:
      - DIRECT
      - 🚀 节点选择
      - ⚡ 自动优选
      - 🌏 国家选择
      - 🇹🇼 台湾-自动
      - 🇯🇵 日本-自动
      - 🇰🇷 韩国-自动
      - 🇹🇭 泰国-自动
      - 🇸🇬 新加坡-自动
      - 🇺🇸 美国-自动
      - 🇳🇱 荷兰-自动
      - 🇩🇪 德国-自动
      - 🇬🇧 英国-自动
      - 🇷🇺 俄罗斯-自动

  - name: E-Hentai
    type: select
    proxies:
      - DIRECT
      - ⚡ 自动优选
      - 🚀 节点选择
      - 🌏 国家选择
    use: [UserSub]

  - name: TikTok
    type: select
    proxies:
      - DIRECT
      - ⚡ 自动优选
      - 🚀 节点选择
      - 🌏 国家选择
      - 🇹🇼 台湾-自动
      - 🇯🇵 日本-自动
      - 🇰🇷 韩国-自动
      - 🇹🇭 泰国-自动
      - 🇸🇬 新加坡-自动
      - 🇺🇸 美国-自动
      - 🇳🇱 荷兰-自动
      - 🇩🇪 德国-自动
      - 🇬🇧 英国-自动
      - 🇷🇺 俄罗斯-自动
      - 🇭🇰 香港
      - 🇹🇼 台湾
      - 🇯🇵 日本
      - 🇰🇷 韩国
      - 🇹🇭 泰国
      - 🇸🇬 新加坡
      - 🇺🇸 美国
      - 🇳🇱 荷兰
      - 🇩🇪 德国
      - 🇬🇧 英国
      - 🇷🇺 俄罗斯

  - name: Steam修复
    type: select
    proxies:
      - DIRECT
      - 🚀 节点选择
      - ⚡ 自动优选
      - 🌏 国家选择
      - 🇹🇼 台湾-自动
      - 🇯🇵 日本-自动
      - 🇰🇷 韩国-自动
      - 🇹🇭 泰国-自动
      - 🇸🇬 新加坡-自动
      - 🇺🇸 美国-自动
      - 🇳🇱 荷兰-自动
      - 🇩🇪 德国-自动
      - 🇬🇧 英国-自动
      - 🇷🇺 俄罗斯-自动

  - name: Play商店修复
    type: select
    proxies:
      - DIRECT
      - ⚡ 自动优选
      - 🚀 节点选择
      - 🌏 国家选择
      - 🇹🇼 台湾-自动
      - 🇯🇵 日本-自动
      - 🇰🇷 韩国-自动
      - 🇹🇭 泰国-自动
      - 🇸🇬 新加坡-自动
      - 🇺🇸 美国-自动
      - 🇳🇱 荷兰-自动
      - 🇩🇪 德国-自动
      - 🇬🇧 英国-自动
      - 🇷🇺 俄罗斯-自动

  - name: FCM推送
    type: select
    proxies:
      - DIRECT
      - 🚀 节点选择
      - ⚡ 自动优选
      - 🌏 国家选择
      - 🇹🇼 台湾-自动
      - 🇯🇵 日本-自动
      - 🇰🇷 韩国-自动
      - 🇹🇭 泰国-自动
      - 🇸🇬 新加坡-自动
      - 🇺🇸 美国-自动
      - 🇳🇱 荷兰-自动
      - 🇩🇪 德国-自动
      - 🇬🇧 英国-自动
      - 🇷🇺 俄罗斯-自动
  # =========================
  # 国家组（自动最低延迟 + 手动自由选）
  # 自动组统一隐藏（前端支持 hidden 才会不显示）
  # =========================

  # ---- 中国 ----
  - name: 🇨🇳 中国-自动
    type: url-test
    url: http://www.gstatic.com/generate_204
    interval: 300
    tolerance: 50
    use: [UserSub]
    filter: '(?i)(🇨🇳|中国|大陆|内地|\bCN\b|\bCHN\b|China|Beijing|Shanghai|Guangzhou|Shenzhen|北京|上海|广州|深圳)'

  - name: 🇨🇳 中国
    type: select
    proxies: [🇨🇳 中国-自动, DIRECT, 🚀 节点选择, ⚡ 自动优选]
    use: [UserSub]
    filter: '(?i)(🇨🇳|中国|大陆|内地|\bCN\b|\bCHN\b|China|Beijing|Shanghai|Guangzhou|Shenzhen|北京|上海|广州|深圳)'

  # ---- 香港 ----
  - name: 🇭🇰 香港-自动
    type: url-test
    url: http://www.gstatic.com/generate_204
    interval: 300
    tolerance: 50
    use: [UserSub]
    filter: '(?i)(🇭🇰|香港|\bHK\b|\bHKG\b|Hong\s*Kong)'

  - name: 🇭🇰 香港
    type: select
    proxies: [🇭🇰 香港-自动, DIRECT, 🚀 节点选择, ⚡ 自动优选]
    use: [UserSub]
    filter: '(?i)(🇭🇰|香港|\bHK\b|\bHKG\b|Hong\s*Kong)'

  # ---- 台湾 ----
  - name: 🇹🇼 台湾-自动
    type: url-test
    url: http://www.gstatic.com/generate_204
    interval: 300
    tolerance: 50
    use: [UserSub]
    filter: '(?i)(🇹🇼|台湾|台灣|臺灣|台北|臺北|\bTW\b|\bTWN\b|Taiwan|\bTPE\b)'

  - name: 🇹🇼 台湾
    type: select
    proxies: [🇹🇼 台湾-自动, DIRECT, 🚀 节点选择, ⚡ 自动优选]
    use: [UserSub]
    filter: '(?i)(🇹🇼|台湾|台灣|臺灣|台北|臺北|\bTW\b|\bTWN\b|Taiwan|\bTPE\b)'

  # ---- 日本 ----
  - name: 🇯🇵 日本-自动
    type: url-test
    url: http://www.gstatic.com/generate_204
    interval: 300
    tolerance: 50
    use: [UserSub]
    filter: '(?i)(🇯🇵|日本|\bJP\b|Japan|Tokyo|Osaka|东京|大阪|\bHND\b|\bNRT\b|\bKIX\b)'

  - name: 🇯🇵 日本
    type: select
    proxies: [🇯🇵 日本-自动, DIRECT, 🚀 节点选择, ⚡ 自动优选]
    use: [UserSub]
    filter: '(?i)(🇯🇵|日本|\bJP\b|Japan|Tokyo|Osaka|东京|大阪|\bHND\b|\bNRT\b|\bKIX\b)'

  # ---- 韩国 ----
  - name: 🇰🇷 韩国-自动
    type: url-test
    url: http://www.gstatic.com/generate_204
    interval: 300
    tolerance: 50
    use: [UserSub]
    filter: '(?i)(🇰🇷|韩国|韓國|\bKR\b|Korea|Seoul|首尔|首爾|\bICN\b)'

  - name: 🇰🇷 韩国
    type: select
    proxies: [🇰🇷 韩国-自动, DIRECT, 🚀 节点选择, ⚡ 自动优选]
    use: [UserSub]
    filter: '(?i)(🇰🇷|韩国|韓國|\bKR\b|Korea|Seoul|首尔|首爾|\bICN\b)'

  # ---- 泰国 ----
  - name: 🇹🇭 泰国-自动
    type: url-test
    url: http://www.gstatic.com/generate_204
    interval: 300
    tolerance: 50
    use: [UserSub]
    filter: '(?i)(🇹🇭|泰国|泰國|\bTH\b|Thailand|Bangkok|曼谷|\bBKK\b)'

  - name: 🇹🇭 泰国
    type: select
    proxies: [🇹🇭 泰国-自动, DIRECT, 🚀 节点选择, ⚡ 自动优选]
    use: [UserSub]
    filter: '(?i)(🇹🇭|泰国|泰國|\bTH\b|Thailand|Bangkok|曼谷|\bBKK\b)'

  # ---- 新加坡 ----
  - name: 🇸🇬 新加坡-自动
    type: url-test
    url: http://www.gstatic.com/generate_204
    interval: 300
    tolerance: 50
    use: [UserSub]
    filter: '(?i)(🇸🇬|新加坡|\bSG\b|Singapore|\bSIN\b)'

  - name: 🇸🇬 新加坡
    type: select
    proxies: [🇸🇬 新加坡-自动, DIRECT, 🚀 节点选择, ⚡ 自动优选]
    use: [UserSub]
    filter: '(?i)(🇸🇬|新加坡|\bSG\b|Singapore|\bSIN\b)'

  # ---- 美国 ----
  - name: 🇺🇸 美国-自动
    type: url-test
    url: http://www.gstatic.com/generate_204
    interval: 300
    tolerance: 50
    use: [UserSub]
    filter: '(?i)(🇺🇸|\bUS\b|\bUSA\b|United\s*States|America|美国|美國|Los\s*Angeles|New\s*York|洛杉矶|洛杉磯|纽约|紐約|\bLAX\b|\bSFO\b)'

  - name: 🇺🇸 美国
    type: select
    proxies: [🇺🇸 美国-自动, DIRECT, 🚀 节点选择, ⚡ 自动优选]
    use: [UserSub]
    filter: '(?i)(🇺🇸|\bUS\b|\bUSA\b|United\s*States|America|美国|美國|Los\s*Angeles|New\s*York|洛杉矶|洛杉磯|纽约|紐約|\bLAX\b|\bSFO\b)'

      # ---- 荷兰 ----
  - name: 🇳🇱 荷兰-自动
    type: url-test
    url: http://www.gstatic.com/generate_204
    interval: 300
    tolerance: 50
    use: [UserSub]
    filter: '(?i)(🇳🇱|荷兰|荷蘭|\bNL\b|Netherlands|Holland|Amsterdam|阿姆斯特丹|\bAMS\b)'
    # 如果你想在业务组里直接看到“荷兰-自动”，就不要 hidden
    # hidden: true

  - name: 🇳🇱 荷兰
    type: select
    proxies: [🇳🇱 荷兰-自动, DIRECT, 🚀 节点选择, ⚡ 自动优选]
    use: [UserSub]
    filter: '(?i)(🇳🇱|荷兰|荷蘭|\bNL\b|Netherlands|Holland|Amsterdam|阿姆斯特丹|\bAMS\b)'

  # ---- 德国 ----
  - name: 🇩🇪 德国-自动
    type: url-test
    url: http://www.gstatic.com/generate_204
    interval: 300
    tolerance: 50
    use: [UserSub]
    filter: '(?i)(🇩🇪|德国|德國|\bDE\b|Germany|Frankfurt|Berlin|法兰克福|柏林|\bFRA\b)'

  - name: 🇩🇪 德国
    type: select
    proxies: [🇩🇪 德国-自动, DIRECT, 🚀 节点选择, ⚡ 自动优选]
    use: [UserSub]
    filter: '(?i)(🇩🇪|德国|德國|\bDE\b|Germany|Frankfurt|Berlin|法兰克福|柏林|\bFRA\b)'

  # ---- 英国 ----
  - name: 🇬🇧 英国-自动
    type: url-test
    url: http://www.gstatic.com/generate_204
    interval: 300
    tolerance: 50
    use: [UserSub]
    filter: '(?i)(🇬🇧|英国|英國|\bUK\b|\bGB\b|United\s*Kingdom|England|London|伦敦|倫敦)'

  - name: 🇬🇧 英国
    type: select
    proxies: [🇬🇧 英国-自动, DIRECT, 🚀 节点选择, ⚡ 自动优选]
    use: [UserSub]
    filter: '(?i)(🇬🇧|英国|英國|\bUK\b|\bGB\b|United\s*Kingdom|England|London|伦敦|倫敦)'

  # ---- 俄罗斯 ----
  - name: 🇷🇺 俄罗斯-自动
    type: url-test
    url: http://www.gstatic.com/generate_204
    interval: 300
    tolerance: 50
    use: [UserSub]
    filter: '(?i)(🇷🇺|俄罗斯|俄羅斯|\bRU\b|Russia|Moscow|莫斯科|\bMOW\b)'

  - name: 🇷🇺 俄罗斯
    type: select
    proxies: [🇷🇺 俄罗斯-自动, DIRECT, 🚀 节点选择, ⚡ 自动优选]
    use: [UserSub]
    filter: '(?i)(🇷🇺|俄罗斯|俄羅斯|\bRU\b|Russia|Moscow|莫斯科|\bMOW\b)'

# =========================
# 6. 分流规则（国内不直连：CN -> 🇨🇳 国内出口-模式）
# =========================
rules:
  # 管理口/自环直连
  - DST-PORT,22,DIRECT
  - DST-PORT,9090,DIRECT
  - DST-PORT,7890,DIRECT
  - DST-PORT,7891,DIRECT
  - DST-PORT,7893,DIRECT

  # 私网永远直连（服务器/网关都必须留）
  - GEOIP,private,DIRECT

  # 广告/过滤
  - RULE-SET,ADBlock,广告拦截
  - RULE-SET,AdditionalFilter,广告拦截
  - RULE-SET,SogouInput,搜狗输入

  # 静态/CDN
  - RULE-SET,StaticResources,静态资源
  - RULE-SET,CDNResources,静态资源
  - RULE-SET,AdditionalCDNResources,静态资源

  # Truth Social
  - DOMAIN-SUFFIX,truthsocial.com,Truth Social

  # 专项/修复
  - RULE-SET,EHentai,E-Hentai
  - RULE-SET,TikTok,TikTok
  - RULE-SET,SteamFix,Steam修复
  - RULE-SET,GoogleFCM,FCM推送
  - DOMAIN,services.googleapis.cn,Play商店修复

  # 业务分流（保持你原逻辑）
  - GEOSITE,youtube,📹 YouTube
  - GEOSITE,spotify,🎵 Spotify
  - GEOSITE,paypal,💳 PayPal

  - GEOSITE,category-ai-!cn,🤖 AI & Copilot
  - GEOSITE,openai,🤖 AI & Copilot
  - GEOSITE,anthropic,🤖 AI & Copilot
  - GEOSITE,google-gemini,🤖 AI & Copilot
  - GEOSITE,github,🤖 AI & Copilot

  - GEOSITE,netflix,📺 其他流媒体
  - GEOSITE,disney,📺 其他流媒体
  - GEOSITE,hbo,📺 其他流媒体
  - GEOSITE,category-porn,📺 其他流媒体

  - GEOSITE,category-cryptocurrency,💰 虚拟货币
  - GEOSITE,binance,💰 虚拟货币
  - GEOSITE,okx,💰 虚拟货币

  - GEOSITE,telegram,📲 电报消息
  - GEOIP,telegram,📲 电报消息

  - GEOSITE,google,🚀 节点选择
  - GEOSITE,microsoft,🚀 节点选择

  # 国内：不直连 -> 走“国内出口-模式”（你可在面板切 DIRECT）
  - RULE-SET,cn_domain,🇨🇳 国内出口
  - RULE-SET,cn_ip,🇨🇳 国内出口

  # 兜底
  - RULE-SET,geolocation_not_cn,🐟 漏网之鱼
  - MATCH,🐟 漏网之鱼
